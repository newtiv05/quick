/* Comprehensive Responsive Design System */

/* CSS Custom Properties for Responsive Breakpoints */
:root {
  --breakpoint-xs: 320px;
  --breakpoint-sm: 576px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 992px;
  --breakpoint-xl: 1200px;
  --breakpoint-2xl: 1400px;
  
  /* Device-specific spacing */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  
  /* Touch-friendly sizes */
  --touch-target-min: 44px;
  --touch-target-comfortable: 48px;
}

/* Base responsive utilities */
.container {
  width: 100%;
  max-width: none;
  margin: 0;
  padding: 0;
}

/* Mobile First Approach */
@media (max-width: 575px) {
  /* Extra small devices (phones, less than 576px) */
  .container {
    padding: 0;
  }
  
  /* Header adjustments for small screens */
  .header {
    top: 0;
    padding: var(--spacing-sm) 0;
  }
  
  .header-container {
    padding: 0 var(--spacing-sm);
    height: 60px;
  }
  
  .desktop-nav {
    display: none;
  }
  
  .mobile-menu-button {
    display: flex;
  }
  
  /* Contact bar adjustments */
  .contact-bar {
    display: none; /* Hide on very small screens */
  }
  
  /* Product cards - Mobile Optimized */
  .product-card {
    margin-bottom: var(--spacing-md);
    min-height: 180px; /* Ensure minimum height for visibility */
  }
  
  .products-grid {
    grid-template-columns: repeat(2, 1fr); /* 2 colonnes sur mobile */
    gap: 12px; /* Increased gap for better separation */
    padding: 0 8px; /* Added horizontal padding */
  }
  
  /* Typography adjustments */
  h1 { font-size: 1.5rem; }
  h2 { font-size: 1.25rem; }
  h3 { font-size: 1.125rem; }
  
  /* Button adjustments */
  .btn, .button {
    min-height: var(--touch-target-min);
    padding: var(--spacing-sm) var(--spacing-md);
  }
  
  /* Form adjustments */
  input, textarea, select {
    min-height: var(--touch-target-min);
    font-size: 16px; /* Prevent zoom on iOS */
  }
  
  /* Modal adjustments */
  .quick-view-modal {
    margin: var(--spacing-sm);
    max-height: calc(100vh - var(--spacing-md));
  }
  
  .quick-view-content {
    grid-template-columns: 1fr;
    padding: var(--spacing-md);
    padding-top: calc(var(--spacing-md) + 60px);
  }
}

@media (min-width: 576px) and (max-width: 767px) {
  /* Small devices (landscape phones, 576px and up) */
  .container {
    padding: 0;
  }
  
  .products-grid {
    grid-template-columns: repeat(3, 1fr); /* Changed from 4 to 3 for better mobile visibility */
    gap: 8px; /* Increased gap */
    padding: 0 8px; /* Added horizontal padding */
  }
  
  .product-card {
    min-height: 200px; /* Increased height for better visibility */
  }
  
  .desktop-nav {
    display: none;
  }
  
  .mobile-menu-button {
    display: flex;
  }
}

@media (min-width: 768px) and (max-width: 991px) {
  /* Medium devices (tablets, 768px and up) */
  .products-grid {
    grid-template-columns: repeat(6, 1fr);
    gap: 4px;
  }
  
  .desktop-nav {
    display: flex;
  }
  
  .mobile-menu-button {
    display: none;
  }
  
  /* Tablet-specific adjustments */
  .quick-view-content {
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-lg);
  }
  
  /* Touch-friendly spacing */
  .nav-link {
    padding: var(--spacing-md) var(--spacing-lg);
  }
}

@media (min-width: 992px) and (max-width: 1199px) {
  /* Large devices (desktops, 992px and up) */
  .products-grid {
    grid-template-columns: repeat(8, 1fr);
    gap: 4px;
  }
  
  .container {
    max-width: none;
  }
}

@media (min-width: 1200px) and (max-width: 1399px) {
  /* Extra large devices (large desktops, 1200px and up) */
  .products-grid {
    grid-template-columns: repeat(10, 1fr);
    gap: 4px;
  }
  
  .container {
    max-width: none;
  }
}

@media (min-width: 1400px) {
  /* Extra extra large devices (1400px and up) */
  .products-grid {
    grid-template-columns: repeat(12, 1fr);
    gap: 4px;
  }
  
  .container {
    max-width: none;
  }
}

/* iPad Specific Styles */
@media only screen 
  and (min-device-width: 768px) 
  and (max-device-width: 1024px) 
  and (-webkit-min-device-pixel-ratio: 1) {
  
  .products-grid {
    grid-template-columns: repeat(3, 1fr);
  }
  
  .quick-view-modal {
    max-width: 90vw;
    max-height: 90vh;
  }
  
  /* iPad landscape */
  @media (orientation: landscape) {
    .quick-view-content {
      grid-template-columns: 1fr 1fr;
    }
  }
  
  /* iPad portrait */
  @media (orientation: portrait) {
    .quick-view-content {
      grid-template-columns: 1fr;
    }
  }
}

/* iPhone Specific Styles */
@media only screen 
  and (min-device-width: 375px) 
  and (max-device-width: 812px) 
  and (-webkit-min-device-pixel-ratio: 2) {
  
  .header {
    top: var(--safe-area-inset-top);
  }
  
  .main-content {
    padding-top: calc(var(--header-height) + var(--safe-area-inset-top) + 40px);
  }
  
  /* iPhone X and newer (notched devices) */
  @supports (padding: max(0px)) {
    .safe-area-inset {
      padding-top: max(var(--safe-area-inset-top), 20px);
      padding-bottom: max(var(--safe-area-inset-bottom), 20px);
      padding-left: max(var(--safe-area-inset-left), 0px);
      padding-right: max(var(--safe-area-inset-right), 0px);
    }
  }
}

/* Android Device Styles */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  /* Chrome/Android specific */
  .nav-link:hover {
    background-color: transparent; /* Disable hover effects on touch devices */
  }
  
  .btn:hover {
    transform: none; /* Disable hover transforms on touch devices */
  }
}

/* High DPI Displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .logo-icon {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: #1a1a1a;
    --bg-secondary: #2d2d2d;
    --text-primary: #ffffff;
    --text-secondary: #b3b3b3;
    --border-light: #404040;
  }
}

/* Print Styles */
@media print {
  .header,
  .footer,
  .mobile-nav,
  .modal,
  .quick-view-modal {
    display: none !important;
  }
  
  .main-content {
    padding-top: 0 !important;
  }
  
  .product-card {
    break-inside: avoid;
    margin-bottom: 1rem;
  }
}

/* Accessibility Improvements */
@media (prefers-contrast: high) {
  :root {
    --border-light: #000000;
    --text-secondary: #000000;
  }
}

/* Focus Styles for Keyboard Navigation */
@media (prefers-reduced-motion: no-preference) {
  *:focus {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
  }
  
  *:focus:not(:focus-visible) {
    outline: none;
  }
}

/* Touch Device Optimizations */
.touch-device {
  /* Larger touch targets */
  .btn, .button, .nav-link {
    min-height: var(--touch-target-comfortable);
    min-width: var(--touch-target-comfortable);
  }
  
  /* Disable hover effects */
  .btn:hover,
  .nav-link:hover,
  .product-card:hover {
    transform: none;
    background-color: initial;
  }
  
  /* Better spacing for touch */
  .product-actions {
    gap: var(--spacing-md);
  }
}

/* Utility Classes */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.no-scroll {
  overflow: hidden;
  height: 100vh;
}

.touch-manipulation {
  touch-action: manipulation;
}

.safe-area-inset {
  padding-top: var(--safe-area-inset-top);
  padding-bottom: var(--safe-area-inset-bottom);
  padding-left: var(--safe-area-inset-left);
  padding-right: var(--safe-area-inset-right);
}
